[tox]
requires =
    tox>=4
env_list = format, type, py310

[testenv:py310]
description = run the tests with pytest
deps =
    pytest>=7
    pytest-mock
skip_install = true
commands =
    pytest {tty:--color=yes} {posargs}

[testenv:format]
description = format the code with black
deps = black
skip_install = true
commands = black .

[testenv:type]
description = check types with mypy
deps =
    mypy
    pandas-stubs
skip_install = true
commands = mypy glytrait --install-types
